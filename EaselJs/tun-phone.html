<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0,minimal-ui" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>手机端</title>
    <link rel="stylesheet" href="css/test.css"/>
    <script src="js/easeljs-0.8.2.min.js"></script>
    <script src="js/zepto.min.js"></script>

</head>

<body onload="init();">
<div>
    <canvas id="test1"></canvas>
</div>

</body>

</html>
<script>
    var stage;
    var pageH,pageW;
    pageH = $(window).height();
    pageW = $(window).width();

    function init(){
        stage = new createjs.Stage("test1");
        stage.canvas.width = pageW-2;
        stage.canvas.height = pageH/3;
        var data={
            framerate:30,//帧率
            images:['img/spritesheet_grant.png'],
            frames:{
                height:293,
                width:165,
                regX:82,
                regY:50,
                count:64,
            },
            animations:{
                run:[0,25,'run',1.5],
                jump:[26,63,'run'],
            }
        }
        var spriteSheet = new createjs.SpriteSheet(data);
        var grant = new createjs.Sprite(spriteSheet,'run');

        stage.addEventListener("stagemousedown",function(){
            grant.gotoAndPlay('jump');
        })

        grant.x=stage.canvas.width/2;
        grant.x=-0.2*pageW;
        grant.y=0.06*pageH;
        grant.scaleX = 0.002*pageW ;
        grant.scaleY = 0.001125*pageH ;
        function tick(event) {
            grant.x = grant.x + 2;
            if(grant.x>stage.canvas.width+80){
                grant.x=-85;
            }
            stage.update();
        }

        stage.addChild(grant);
        createjs.Ticker.timingMode = createjs.Ticker.RAF;
        createjs.Ticker.addEventListener("tick",tick);

    }



</script>