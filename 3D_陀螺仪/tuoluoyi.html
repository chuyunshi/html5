<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0,minimal-ui" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title></title>
    <style>
        div{
            margin: 50px;
        }
        ul li{
            list-style: none;
        }
    </style>
</head>
<body>

<div>
    <ul >
        <li id="li1">0</li>
        <li id="li2">0</li>
        <li id="li3">0</li>
    </ul>
</div>
<div class="btn">
    <button>点击震动</button>

</div>

</body>
</html>
<script src="js/zepto.min.js"></script>
<script>




    $(document).ready(function(){
      page={
          init:function(){
              window.addEventListener("deviceorientation",page.handleOrientation,true);
              page.zhendong();
              page.yaohuangzhendong.init();

          },
          handleOrientation:function(orientDate){
              var absolute = orientDate.absolute;
              var alpha = orientDate.alpha;
              var beta = orientDate.beta;
              var gamma = orientDate.gamma;

              $("#li1").html(alpha);
              $("#li2").html(beta);
              $("#li3").html(gamma);

          },
          yaohuangzhendong:{
              init:function(){
                  if(window.DeviceMotionEvent){
                      window.addEventListener('devicemotion',page.yaohuangzhendong.deviceMotionHandler,false);
                  }else{
                      alert('not support mobile event');
                  }

              },

              deviceMotionHandler:function(){
                  var x = 0, y = 0, z = 0;
                  var acceleration = event.accelerationIncludingGravity;
                  x = acceleration.x;
                  y = acceleration.y;
                  z = acceleration.z;
                  if(x<-20){
                      if(navigator.vibrate){
                          navigator.vibrate(500);
                      }else if(navigator.webkitVibrate){
                          navigator.webkitVibrate(500);
                      }
                  }

              }

            },

          zhendong:function(){
              $(".btn").click(function(){
                  if(navigator.vibrate){
                      navigator.vibrate([500,300,500 ]);//或navigator.vibrate(3000)；
                  }else if(navigator.webkitVibrate){
                      navigator.webkitVibrate([500,300,500])
                  }
              })
          },


      }
        page.init();
    })



</script>